<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link href="~/content/img/favicon.ico" type="image/x-icon" rel="shortcut icon" />
    <meta charset="utf-8" />
    <meta content="IE=edge, chrome=1" http-equiv="X-UA-Compatible" />
    <meta http-equiv="Last-Modified" content="0">
    <meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <title>.: Andes :.</title>


    <link href="~/Content/css/bootstrap.css"bootstrapswitch rel="stylesheet" />
    <link href="~/Content/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/css/font-awesome.min.css" rel="stylesheet" />
    <link href="~/Content/css/site.css" rel="stylesheet" />
    <link href="~/Content/css/datatables.min.css" rel="stylesheet" />
    <link href="~/Content/css/bootstrap-switch.min.css" rel="stylesheet" />
    <link href="~/Content/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
    <link href="~/Content/css/tableexport.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.12.1.min.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.number.min.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.Rut.js" type="text/javascript"></script>
    <script src="~/Scripts/bootstrap.js" type="text/javascript"></script>
    <script src="~/Scripts/bootstrap.min.js" type="text/javascript"></script>
    <script src="~/Scripts/moment.js" type="text/javascript"></script>
    <script src="~/Scripts/dataTables.min.js" type="text/javascript"></script>
    <script src="~/Scripts/dataTables.fixedHeader.min.js" type="text/javascript"></script>
    <script src="~/Scripts/bootstrap-switch.min.js" type="text/javascript"></script>
    <script src="~/Scripts/bootstrap-datepicker.js" type="text/javascript"></script>
    <script src="~/Scripts/xlsx.core.min.js" type="text/javascript"></script>
    <script src="~/Scripts/Blob.js" type="text/javascript"></script>
    <script src="~/Scripts/FileSaver.js" type="text/javascript"></script>
    <script src="~/Scripts/tableexport.js" type="text/javascript"></script>
    

    <script type="text/javascript">

        window.history.forward(1);

        function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode
            if (charCode > 31 && (charCode < 48 || charCode > 57))
                return false;

            return true;
        }

        function SoloLetras(evt) {
            tecla = (document.all) ? evt.keyCode : evt.which;
            if (tecla == 8) return true;
            patron = /[A-Z a-z á é í ó ú Á É Í Ó Ú ä ë ï ö ü Ä Ë Ï Ö Ü ñ Ñ]/;
            te = String.fromCharCode(tecla);
            return patron.test(te);
        }

        function SoloLetrasYNumeros(evt) {
            tecla = (document.all) ? evt.keyCode : evt.which;
            if (tecla == 8) return true;
            patron = /[A-Z a-z á é í ó ú Á É Í Ó Ú ä ë ï ö ü Ä Ë Ï Ö Ü ñ Ñ 0-9]/;
            te = String.fromCharCode(tecla);
            return patron.test(te);
        }

        function Descripciones(evt) {
            tecla = (document.all) ? evt.keyCode : evt.which;
            if (tecla == 8) return true;
            patron = /[A-Z a-z á é í ó ú Á É Í Ó Ú ä ë ï ö ü Ä Ë Ï Ö Ü ñ Ñ 0-9 . : ; () , -]/;
            te = String.fromCharCode(tecla);
            return patron.test(te);
        }

        function BotonOver(id) {
            $("#" + id).css("background-color", "#3598D4");
        }

        function BotonOut(id) {
            $("#" + id).css("background-color", "#63A22D");
        }

        function countdown() {

            var seconds = parseInt($("#lblSeconds").text());
            var minutes = parseInt($("#lblMinutes").text());

            var strMinutes;
            var strSeconds;

            if (seconds - 1 == -1) {
                seconds = 59;
                if (minutes - 1 == -1) {
                    minutes = 59;
                    /*if (hours - 1 == -1) {
                        clearInterval();
                        return false;
                    } else {
                        hours -= 1;
                    }*/
                } else {
                    minutes -= 1;
                }
            } else {
                seconds -= 1;
            }

            $("#lblSeconds").text(seconds);
            $("#lblMinutes").text(minutes);

            if (seconds == 0 && minutes == 0) {
                var Backlen = history.length;
                if (Backlen > 0) {
                    history.go(-Backlen);
                }
                
                window.location.href = baseUrl + '/Auth/LogOut';
            }
        }

        setInterval(countdown, 1000);
    </script>
    <style>
        body {
            padding-top: 70px;
        }

        .dropdown:hover > a {
            background-color: #63A22D;
        }
    </style>
    @RenderSection("CustomHeadContent", required: false)
</head>
<body>
    <header>
        <div class="navbar navbar-default navbar-fixed-top" role="navigation" style="background-color:#3598D4">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="@ViewBag.BaseUrl/Inicio/Index">
                    <i class="fa fa-home" style="color:white;"></i>
                </a>
            </div>
            <div class="collapse navbar-collapse" id="menu">
                
            </div>
        </div>
    </header>

    <div class="container-fluid">
        @RenderBody()
    </div>
    
    <!-- Espere -->
    <div class="col-lg-12" id="cargando" style="display:none;">
        <div class="overlay" />
        <div class="overlayContent">
            <h2><img src="~/Content/img/spinner_squares_circle.gif" height="31" width="31" /> Espere por favor...</h2>
        </div>
    </div>
    <!-- Fin -->
    <script type="text/javascript">

        //obtener url base en layout principal:
        var baseUrl = '@ViewBag.BaseUrl';

        $(document).ready(function () {
		
            $("#menu").load(baseUrl + "/Inicio/MenuUsuario");

            //MUESTRA LOADING CUANDO CARGA PAGINA HTML
            $('#cargando').fadeIn();

            //ESCONDE LOADING CUANDO TERMINA DE CARGAR PAGINA HTML
            $(window).load(function () {
                $('#cargando').fadeOut();
            });

            //MUESTRA LOADING CUANDO EJECUTA EVENTO AJAX
            $(document).ajaxStart(function () {
                $('#cargando').fadeIn();
            });

            //ESCONDE LOADING CUANDO TERMINA EVENTO AJAX
            $(document).ajaxSuccess(function () {
                $('#cargando').fadeOut();
            });

            //ESCONDE LOADING CUANDO OCURRE ERROR EN EVENTO AJAX
            $(document).ajaxError(function () {
                $('#cargando').fadeOut();
            });


        });
    </script>
</body>
</html>
